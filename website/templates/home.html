{% extends "base.html" %} {% block title %}Rate the product{% endblock %}
{% block content %}
  <div class="container">
    <div class="row my-sm-3">
      <div class="col-sm-3 d-none d-sm-block">
        <img
          class="image-home"
          src="../static/assets/img/brand-reputation.svg"
          alt=""
        />
      </div>
      <div class="col-sm-6 align-self-end">
        <p class="fs-4 fw-bold text-center">Sprawdź opinie przed zakupem</p>
      </div>
      <div class="col-sm-3 p-5 d-none d-sm-block">
        <img
          class="image-home"
          src="../static/assets/img/complain.svg"
          alt=""
        />
      </div>
    </div>
    <div class="row justify-content-center my-3">
      <div class="col-sm-6 p-md-4 p-lg-5">
        <form class="d-flex search-main" action="/search">
          <input
            class="search-input form-control form-control-lg"
            type="search"
            placeholder="Search"
            aria-label="Search"
            name="query"
          />
          <button class="btn btn-outline-primary btn-lg" type="submit">
            <img src="../static/assets/img/icons/search.svg" alt="search" />
          </button>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3 my-3">
        <img
          class="image-home"
          src="../static/assets/img/giving-a-feedback.svg"
          alt=""
        />
      </div>
      <div class="col-sm-6 align-self-center my-3">
        <p class="fs-5 text-center">
          Podziel się swoją opinią na temat produktów dostępnych w popularnych
          sieciach handlowych. Zobacz opinie innych kupujących, czy warto kupić
          dany produkt i nie daj się naciąć.
        </p>
      </div>
      <div class="col-sm"></div>
    </div>

    <div class="row mt-5">
      <div
        id="carouselRecommenedProducts"
        class="carousel"
        data-bs-ride="carousel"
      >
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="card-group py-2 justify-content-evenly">
              {% for product in products[0] %}
                <div class="card border-violet-card mx-auto mx-sm-1 mx-md-2">
                  <div class="ratio ratio-4x3">
                    <img
                      class="card-img-top"
                      src="{{ product.photo | image_url }}"
                      crossorigin="anonymous"
                    />
                  </div>
                  <div class="card-body">
                    <h5 class="card-title">{{ product.name }}</h5>
                    <p class="card-text">{{ product.rating }}</p>
                    <a
                      href="{{ url_for('views.product', id_product=product.id) }}"
                      class="btn btn-sm btn-primary"
                      >Idź do produktu</a
                    >
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>

          {% for products_arr in products[1:] %}
            <div class="carousel-item">
              <div class="card-group py-2 justify-content-evenly">
                {% for product in products_arr %}
                  <div class="card border-violet-card mx-auto mx-sm-1 mx-md-2">
                    <div class="ratio ratio-4x3">
                      <img
                        src="{{ product.photo | image_url }}"
                        class="card-img-top"
                        crossorigin="anonymous"
                        loading="lazy"
                      />
                    </div>
                    <div class="card-body">
                      <h5 class="card-title">{{ product.name }}</h5>
                      <p class="card-text">{{ product.rating }}</p>
                      <a
                        href="{{ url_for('views.product', id_product=product.id) }}"
                        class="btn btn-sm btn-primary"
                        >Idź do produktu</a
                      >
                    </div>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselRecommenedProducts"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselRecommenedProducts"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
  <script src="{{ url_for('static', filename='main.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/get-color.js') }}"></script>

  <!-- <script src="{{ url_for('static', filename='main.js') }}"></script> -->
{% endblock %}
